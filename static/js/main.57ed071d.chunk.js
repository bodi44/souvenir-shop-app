(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t){},108:function(e,t){},143:function(e,t){},144:function(e,t){},190:function(e,t,r){},191:function(e,t,r){},192:function(e,t,r){},193:function(e,t,r){},194:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(33),u=r.n(c),o=r(18),i=r(9),s=r(92),l=r(19),E=r.n(l),p=r(34),f=r(89),d=function(e){if(e.ok)return e;throw new Error(e.statusText)},h=function(){var e=Object(p.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,fetch("http://data.fixer.io/api/latest?access_key=26d6132618a9e2ec422be84ba48a260a");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1).json());case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=(r(190),"__"),S="_";var C=function(e){return function(t){var r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof t?r=t:a=t||{},n=Array.isArray(a)?a:Object.keys(a).filter(function(e){return a[e]})||[],function(e){var t=e.b,r=e.e,n=e.m,a=r?[t,r].join(m):t;return[a].concat(Object(i.a)(n.map(function(e){return[a,e].join(S)}))).join(" ").trim()}({b:e,e:r,m:n})}},v=C("RequestForm"),R=Object(o.b)(null,{purchase:function(e,t,r,n){return{type:"PURCHASE",id:Object(f.v4)(),date:e,price:parseFloat(t),currency:r,productName:n}},showAllPurchases:function(){return{type:"SHOW_ALL_PURCHASES"}},clearPurchasesByDate:function(e){return{type:"CLEAR_PURCHASES_BY_DATE",date:e}},reportAboutPurchases:function(e){return{type:"REPORT_ABOUT_PURCHASES",totalIncome:e}},showErrorMessage:function(e){return{type:"SHOW_ERROR_MESSAGE",error:e}}})(function(e){var t=e.purchase,r=e.showAllPurchases,c=e.showErrorMessage,u=e.clearPurchasesByDate,o=e.reportAboutPurchases,l=e.allPurchases,E=e.currencyData,p=Object(n.useState)(""),f=Object(s.a)(p,2),d=f[0],h=f[1],m=function(e,r,n,a){t(e,r,n,a)},S={purchase:m,all:function(){r()},clear:function(e){u(e)},report:function(e,t){var r=0;l.filter(function(t){return t.id.slice(0,4)===e}).map(function(e){return e.purchases.map(function(e){e.currency!==t?r+=e.price/E[e.currency]*E[t]:r+=e.price})}),o("".concat(Number(r.toFixed(2))," ").concat(t))}};return a.a.createElement("form",{action:"",className:v(),onSubmit:function(e){return function(e){e.preventDefault();var t=d.split(" ");if(S.hasOwnProperty(t[0]))if(S[t[0]]===m&&t.slice(1).length>4){var r="";t.slice(1)[3].match(/"*/)&&t.slice(4).forEach(function(e){return r+=" ".concat(e)}),S[t[0]].apply(S,Object(i.a)(t.slice(1,4)).concat([r]))}else S[t[0]].apply(S,Object(i.a)(t.slice(1)));else c("Error: No such command.")}(e)}},a.a.createElement("input",{type:"text",name:"query",placeholder:"Type your query here...",className:v("input"),onChange:function(e){e.preventDefault(),h(e.target.value)}}),a.a.createElement("button",{className:v("submit"),type:"submit"},"Click to Submit"))}),y=function(e){var t=e.date,r=e.allPurchases;return a.a.createElement("div",null,a.a.createElement("h5",null,t),r.map(function(e){return a.a.createElement("p",{key:e.id},e.productName," ",e.price," ",e.currency)}))},_=(r(191),C("Output")),O=function(e){var t=e.allPurchases,r=e.error,n=e.totalIncome;return r?a.a.createElement("div",{className:_(["error"])},a.a.createElement("h3",{className:_("title")},"Output:"),r):n?a.a.createElement("div",{className:_()},a.a.createElement("h3",{className:_("title")},"Output:"),n):a.a.createElement("div",{className:_()},a.a.createElement("h3",{className:_("title")},"Output:"),t.map(function(e){return a.a.createElement(y,{key:e.id,date:e.id,allPurchases:e.purchases})}))},b=r(35),A=r(12),N=Object(A.combineReducers)({currenciesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_BEGIN":return e;case"FETCH_CURRENCIES_SUCCESS":return t.payload.currencies.rates;case"FETCH_CURRENCIES_FAILURE":return t.payload.error;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"FETCH_CURRENCIES_BEGIN":return!0;case"FETCH_CURRENCIES_SUCCESS":case"FETCH_CURRENCIES_FAILURE":return!1;default:return e}},hasError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_BEGIN":case"FETCH_CURRENCIES_SUCCESS":return null;case"FETCH_CURRENCIES_FAILURE":return t.payload.error;default:return e}}}),U=r(13),P=r(26),g=Object(b.a)({byDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE":return e.hasOwnProperty(t.date)?Object(P.a)({},e,Object(U.a)({},t.date,{id:t.date,purchases:[].concat(Object(i.a)(e[t.date].purchases),[{id:t.id,date:t.date,price:t.price,currency:t.currency,productName:t.productName}])})):Object(P.a)({},e,Object(U.a)({},t.date,{id:t.date,purchases:[{id:t.id,date:t.date,price:t.price,currency:t.currency,productName:t.productName}]}));case"SHOW_ALL_PURCHASES":return e;case"CLEAR_PURCHASES_BY_DATE":var r=Object.assign({},e);return delete r[t.date],r;case"REPORT_ABOUT_PURCHASES":default:return e}},allDates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE":return-1===e.indexOf(t.date)?[].concat(Object(i.a)(e),[t.date]):e;case"SHOW_ALL_PURCHASES":return Array.prototype.slice.call(e).sort(function(e,t){return new Date(t)-new Date(e)}).reverse();case"CLEAR_PURCHASES_BY_DATE":return e.filter(function(e){return e!==t.date});case"REPORT_ABOUT_PURCHASES":default:return e}},errors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SHOW_ERROR_MESSAGE":return e.error;default:return null}},totalIncome:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REPORT_ABOUT_PURCHASES":return e.totalIncome;default:return null}}}),H=Object(b.a)({currencies:N,souvenirStore:g}),I=function(e){return function(e){return e.currenciesData}(e.currencies)},j=function(e){return function(e){return e.isLoading}(e.currencies)},w=function(e){return function(e){return e.hasError}(e.currencies)},T=function(e){return function(e){return e.allDates.map(function(t){return e.byDate[t]})}(e.souvenirStore)},D=function(e){return function(e){return e.errors}(e.souvenirStore)},F=function(e){return function(e){return e.totalIncome}(e.souvenirStore)},L=(r(192),C("SouvenirStoreApp")),B=Object(o.b)(function(e){return{currencies:I(e),isLoading:j(e),hasError:w(e),allPurchases:T(e),storeErrorMessage:D(e),totalIncome:F(e)}},{fetchCurrencies:function(){return function(){var e=Object(p.a)(E.a.mark(function e(t){var r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_CURRENCIES_BEGIN"}),e.prev=1,e.next=4,h();case 4:r=e.sent,t({type:"FETCH_CURRENCIES_SUCCESS",payload:{currencies:r}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_CURRENCIES_FAILURE",payload:{error:e.t0}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.fetchCurrencies,r=e.currencies,c=e.isLoading,u=e.hasError,o=e.allPurchases,i=e.storeErrorMessage,s=e.totalIncome;return Object(n.useEffect)(function(){t()},[t]),c?a.a.createElement("div",{className:L("data-error")},"Data is Loading..."):u?a.a.createElement("div",{className:L("data-error")},"Error occurred while fetching API: ",u):a.a.createElement("div",{className:L()},a.a.createElement("h1",{className:L("title")},"Souvenir-store App"),a.a.createElement(R,{allPurchases:o,currencyData:r}),a.a.createElement(O,{allPurchases:o,totalIncome:s,error:i}))}),k=function(e){var t=e.children,r=e.store;return a.a.createElement(o.a,{store:r},t)},x=r(90),M=r(91);r(193);u.a.render(a.a.createElement(k,{store:Object(A.createStore)(H,Object(x.composeWithDevTools)(Object(A.applyMiddleware)(M.a)))},a.a.createElement(B,null)),document.getElementById("root"))},93:function(e,t,r){e.exports=r(194)}},[[93,1,2]]]);
//# sourceMappingURL=main.57ed071d.chunk.js.map